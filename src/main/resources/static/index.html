<!DOCTYPE html>

<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script>
    window.onload=function()
    {
      


    
     

    }
    function loadLocation(e)
    {
      var result="";
      $.each(e,function(index,value)
      {
         
          result+="<tr id='"+value.id+"'>";
           result+="<td> <input type='radio' id='rdBnlocataionid' name='locationid' value='"+value.id+"'></td>";
          result+="<td>"+value.name+"</td>";
          result+="<td>"+value.description+"</td></tr>";

      });

      $("#loadLocation").html(result);
    }

    
    $(document).ready(function(){
     var URL="http://localhost:8080/location/";
     
     $.ajax({

       dataType:"json",
       url:URL,
       success:loadLocation
     });

    $('#rdBnlocataionid').change(function(){
        alert("HI");
        var test="test";
        $('#name').val("HI");
     
    });

    $('#saveLocation').click(function(){
       
      // collect the form data while iterating over the inputs
  var data = {};
  
    var inputName =  $('#name').val();
    var inputDesc =  $('#description').val();
    if (inputName&&inputDesc) {
      data['name'] = inputName;
      data['description'] = inputDesc;
    
  }
  addLocationData();
  function addLocationData(){
     $.ajax({
             type: "POST",
             url: "http://localhost:8080/location",
             data: JSON.stringify(data),
             contentType: "application/json; charset=utf-8",
             dataType: "json",
             success: function (data, status) {

                 alert(success);
             },

             error: function ( status) {
                 // error handler
                
                 alert('fail ' + status.code);
             }
          });
    }
     
    });
  });
    
 
  </script>
</head>
<body>

<div class="container">
  <h2>Location</h2>
  <p>The form below contains two input elements; one of type text and one of type password:</p>
 
    <div class="form-group">
      <label for="usr">Name:</label>
      <input type="text" class="form-control" id="name" value="" name="l_name">
    </div>
    <div class="form-group">
      <label for="pwd">Description:</label>
      <input type="text" class="form-control" id="description" name="l_description">
    </div>
    <input type="button" id="saveLocation" value="Save">
 
</div>

<div class="container" >
  
    <table class="table table-bordered">
        <thead class="thead-dark">
          <tr>
              <th scope="col">
                  <span class="glyphicon glyphicon-pencil" aria-hidden="true">
    
                  </span></th>
            
            <th scope="col">Name</th>
           
            <th scope="col">Description</th>
           </tr>
        </thead>
       
         <tbody  id="loadLocation">
        
         </tbody>
         <tbody>
            <tr>
              
                <td><input type='text'/></td>
                <td><input type='text'/></td>
                <td scope="col">
                    <span class="glyphicon glyphicon-ok " aria-hidden="true"></span>
                    <span class="glyphicon glyphicon-pencil " aria-hidden="true"></span>
                    <span class="glyphicon glyphicon-remove " aria-hidden="true"></span>
                  </td>
            </tr>
         </tbody>
         
    </table>

</div>

</body>
</html>
